@page "/"

<PageTitle>Simple QR Code</PageTitle>
<PageHeading Title="Simple QR Code"></PageHeading>

<MudContainer Class="my-6">
    <MudGrid Spacing="6" Justify="Justify.Center">
        <MudItem xs="12" sm="12" md="8">
            <MudTextField Variant="Variant.Outlined" @bind-Value="qrContent" Label="Enter content"></MudTextField>
        </MudItem>
        <MudItem xs="12" sm="12" md="8">
            <MudButton OnClick="GenerateQr" Variant="Variant.Outlined" Color="Color.Primary"> <MudText>Submit</MudText></MudButton>
        </MudItem>
        @if (!string.IsNullOrEmpty(QRCodeStr))
        {
            <MudItem xs="12" sm="12" md="8">
                <a href="@QRCodeStr" download="QR Code" style="margin-left:auto;margin-right:auto">
                    <MudImage Width="300" Height="300" Src="@QRCodeStr" Alt="QR Code" Elevation="5" Class="rounded-lg" />
                </a>
            </MudItem>
            <MudItem xs="12" sm="12" md="8">
                <MudText Typo="Typo.caption" Color="Color.Secondary">click or tap on the image to download</MudText>
            </MudItem>
        }
    </MudGrid>
</MudContainer>


@code {
    string qrContent = "";
    string QRCodeStr = string.Empty;

    private void GenerateQr()
    {
        QRCodeStr = GenerateQRCode.GenerateQR(qrContent);
        qrContent = string.Empty;
    }



    



}